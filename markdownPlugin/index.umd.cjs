(function(p,k){typeof exports=="object"&&typeof module<"u"?module.exports=k():typeof define=="function"&&define.amd?define(k):(p=typeof globalThis<"u"?globalThis:p||self,p.demoEditor=k())})(this,function(){"use strict";var p=function(c,i,f){function _(e){return e.trim().split(" ",2)[0]===i}function h(e,l,g,v,r){return e[l].nesting===1&&e[l].attrJoin("class",i),r.renderToken(e,l,g,v,r)}f=f||{};var b=3,a=f.marker||":",m=a.charCodeAt(0),t=a.length,x=f.validate||_,T=f.render||h;function A(e,l,g,v){var r,o,M,y,C,u,$,D,w=!1,n=e.bMarks[l]+e.tShift[l],d=e.eMarks[l];if(m!==e.src.charCodeAt(n))return!1;for(r=n+1;r<=d&&a[(r-n)%t]===e.src[r];r++);if(M=Math.floor((r-n)/t),M<b||(r-=(r-n)%t,y=e.src.slice(n,r),C=e.src.slice(r,d),!x(C,y)))return!1;if(v)return!0;for(o=l;o++,!(o>=g||(n=e.bMarks[o]+e.tShift[o],d=e.eMarks[o],n<d&&e.sCount[o]<e.blkIndent));)if(m===e.src.charCodeAt(n)&&!(e.sCount[o]-e.blkIndent>=4)){for(r=n+1;r<=d&&a[(r-n)%t]===e.src[r];r++);if(!(Math.floor((r-n)/t)<M)&&(r-=(r-n)%t,r=e.skipSpaces(r),!(r<d))){w=!0;break}}return $=e.parentType,D=e.lineMax,e.parentType="container",e.lineMax=o,u=e.push("container_"+i+"_open","div",1),u.markup=y,u.block=!0,u.info=C,u.map=[l,o],e.md.block.tokenize(e,l+1,o),u=e.push("container_"+i+"_close","div",-1),u.markup=e.src.slice(n,r),u.block=!0,e.parentType=$,e.lineMax=D,e.line=o+(w?1:0),!0}c.block.ruler.before("fence","container_"+i,A,{alt:["paragraph","reference","blockquote","list"]}),c.renderer.rules["container_"+i+"_open"]=T,c.renderer.rules["container_"+i+"_close"]=T};return function(s){s.use(p,"demo",{validate(c){return c.trim().match(/^demo\s*(.*)$/)},render(c,i){if(c[i].nesting===1){const f=c[i+1].type==="fence"?c[i+1].content:"",_=c[i+1].info,h=c[i].info+" ",b=h.includes("column"),a=/height\:(.*?)\s/.exec(h),m=a?a[1]:void 0;return`
        <clientOnly>
        <demo initial-value="${s.utils.escapeHtml(f)}" 
        direction="${b?"column":""}"
        lang="${_}"
        height="${m}"
        >
        `}return"</demo></clientOnly>"}})}});
